{"version":3,"sources":["main.min.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","getMostVisibleElement","Carousel","container","slides","instance","TypeError","_classCallCheck","this","container_","slides_","value","../../utils/dom/position/get-most-visible-element","2","document","querySelector","querySelectorAll","../base","../nav","3","DynamicDefaultMap","RenderLoop","DefaultClass","freeze","ACTIVE_NAV_ITEM","CarouselNav","carousel","navElement","createNavItemFn","arguments","undefined","slide","element","createElement","innerHTML","createDefaultNavItem","carousel_","navElement_","navItems_","init_","_this","measure","render_","_this2","activeSlide","getActiveSlide","mutate","resetNavItems_","markActiveNavItem","_this3","getSlides","forEach","resetNavItemForSlide_","navItem","get","appendChild","classList","remove","add","../../utils/map/dynamic-default","../../utils/render-loop","./base","4","_len","values","Array","_key","every","5","_toConsumableArray","arr","isArray","arr2","from","getCommonOffsetAncestor","elements","reversedAncestorLists","map","getOffsetAncestors","reverse","ancestorIndex","_len2","lists","_key2","zippedValues","zip","matchIndex","areEqual","apply","../../are-equal","../../iterable/zip","./get-offset-ancestors","6","getVisibleArea","max","../../iterable/max","./get-visible-area","7","terminusAncestor","result","offsetParent","push","8","Vector2d","ancestor","reduce","fromElementOffset","../../math/geometry/vector-2d","9","fromElementTransform","10","getVisibleHeight","getVisibleWidth","./get-visible-height","./get-visible-width","11","getVisibleDistanceFromAncestor","b","commonAncestor","subtract","./get-common-offset-ancestor","./get-visible-distance-from-ancestor","12","getOffsetFromAncestor","getTransformFromAncestor","./get-offset-from-ancestor","./get-transform-from-ancestor","13","Range","getVisibleDistanceBetweenElements","distance","visibleYRange","offsetHeight","startY","clamp","y","../../range","./get-visible-distance-between-elements","14","visibleXRange","offsetWidth","startX","x","15","Matrix","c","d","tx","ty","a_","b_","c_","d_","tx_","ty_","str","split","splice","trim","Function","bind","concat","parseFromString","window","getComputedStyle","transform","16","17","iterable","scoreFn","_ref","_ref2","_slicedToArray","maxScore","score","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","sliceIterator","18","slice","list","listItem","index","19","MapWrapper","_MapWrapper","defaultFunction","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","defaultFunction_","subClass","superClass","create","constructor","setPrototypeOf","_inherits","has","set","object","property","receiver","desc","getOwnPropertyDescriptor","parent","getter","_get","./map-wrapper","20","isDef","map_","Map","clear","delete","entries","callbackFn","thisArg","finalThisArg","keys","size","../is-def","21","Vector","_Vector","getValues","offsetLeft","offsetTop","matrix","translateX","translateY","fromMatrix","../../dom/position/matrix","./vector","22","sum","values_","vectors","invert","_len3","subtrahends","_key3","_len4","_key4","vector","summedValues","zippedVals","val","minuend","_len5","_key5","subtrahend","../sum","23","24","min","min_","max_","Math","25","addFnToStep","fn","step","renderFn","RenderFunction","scheduledFns_","runLoop","STEP_ORDER","runFnsForStep","requestAnimationFrame","Step","MEASURE","MUTATE","step_","./map/dynamic-default"],"mappings":"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","file":"../main.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar getMostVisibleElement = require('../../utils/dom/position/get-most-visible-element');\n\nvar Carousel = function () {\n    function Carousel(container, slides) {\n        _classCallCheck(this, Carousel);\n\n        this.container_ = container;\n        this.slides_ = slides;\n    }\n\n    _createClass(Carousel, [{\n        key: 'getActiveSlide',\n        value: function getActiveSlide() {\n            return getMostVisibleElement(this.slides_, this.container_);\n        }\n    }, {\n        key: 'getSlides',\n        value: function getSlides() {\n            return this.slides_;\n        }\n    }]);\n\n    return Carousel;\n}();\n\nmodule.exports = Carousel;\n\n},{\"../../utils/dom/position/get-most-visible-element\":6}],2:[function(require,module,exports){\n'use strict';\n\nvar Carousel = require('../base');\nvar CarouselNav = require('../nav');\n\nvar carouselElement = document.querySelector('.carousel');\nvar slideElements = document.querySelectorAll('.carousel__slide');\nvar carousel = new Carousel(carouselElement, slideElements);\n\nvar navigationElement = document.querySelector('.carousel__nav');\nvar navigation = new CarouselNav(carousel, navigationElement);\n\n},{\"../base\":1,\"../nav\":3}],3:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Carousel = require('./base');\nvar DynamicDefaultMap = require('../../utils/map/dynamic-default');\nvar RenderLoop = require('../../utils/render-loop');\n\nvar DefaultClass = Object.freeze({\n    ACTIVE_NAV_ITEM: 'active'\n});\n\nfunction createDefaultNavItem(slide) {\n    var element = document.createElement('li');\n    element.innerHTML = '.';\n    return element;\n}\n\nvar CarouselNav = function () {\n    function CarouselNav(carousel, navElement) {\n        var createNavItemFn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : createDefaultNavItem();\n\n        _classCallCheck(this, CarouselNav);\n\n        this.carousel_ = carousel;\n        this.navElement_ = navElement;\n        this.navItems_ = new DynamicDefaultMap(function (slide) {\n            return createNavItemFn(slide);\n        });\n        this.init_();\n    }\n\n    _createClass(CarouselNav, [{\n        key: 'init_',\n        value: function init_() {\n            var _this = this;\n\n            RenderLoop.measure(function () {\n                return _this.render_();\n            });\n        }\n    }, {\n        key: 'render_',\n        value: function render_() {\n            var _this2 = this;\n\n            var activeSlide = this.carousel_.getActiveSlide();\n            RenderLoop.mutate(function () {\n                _this2.resetNavItems_();\n                _this2.markActiveNavItem(activeSlide);\n                RenderLoop.measure(function () {\n                    return _this2.render_();\n                });\n            });\n        }\n    }, {\n        key: 'resetNavItems_',\n        value: function resetNavItems_() {\n            var _this3 = this;\n\n            this.navElement_.innerHTML = '';\n            this.carousel_.getSlides().forEach(function (slide) {\n                return _this3.resetNavItemForSlide_(slide);\n            });\n        }\n    }, {\n        key: 'resetNavItemForSlide_',\n        value: function resetNavItemForSlide_(slide) {\n            var navItem = this.navItems_.get(slide);\n            this.navElement_.appendChild(navItem);\n            navItem.classList.remove(DefaultClass.ACTIVE_NAV_ITEM);\n        }\n    }, {\n        key: 'markActiveNavItem',\n        value: function markActiveNavItem(activeSlide) {\n            this.navItems_.get(activeSlide).classList.add(DefaultClass.ACTIVE_NAV_ITEM);\n        }\n    }]);\n\n    return CarouselNav;\n}();\n\nmodule.exports = CarouselNav;\n\n},{\"../../utils/map/dynamic-default\":19,\"../../utils/render-loop\":25,\"./base\":1}],4:[function(require,module,exports){\n\"use strict\";\n\nfunction areEqual(target) {\n    for (var _len = arguments.length, values = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        values[_key - 1] = arguments[_key];\n    }\n\n    return values.every(function (value) {\n        return target === value;\n    });\n}\n\nmodule.exports = areEqual;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar areEqual = require('../../are-equal');\nvar getOffsetAncestors = require('./get-offset-ancestors');\nvar zip = require('../../iterable/zip');\n\nfunction getCommonOffsetAncestor() {\n    for (var _len = arguments.length, elements = Array(_len), _key = 0; _key < _len; _key++) {\n        elements[_key] = arguments[_key];\n    }\n\n    var reversedAncestorLists = elements.map(function (element) {\n        return getOffsetAncestors(element);\n    }).reverse();\n    var ancestorIndex = getLastMatchingIndex.apply(undefined, _toConsumableArray(reversedAncestorLists));\n    return reversedAncestorLists[0][ancestorIndex];\n}\n\nfunction getLastMatchingIndex() {\n    for (var _len2 = arguments.length, lists = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        lists[_key2] = arguments[_key2];\n    }\n\n    var zippedValues = zip(lists);\n    var matchIndex = -1;\n    while (areEqual.apply(undefined, _toConsumableArray(zippedValues[matchIndex + 1]))) {\n        matchIndex++;\n    }\n    return matchIndex;\n}\n\nmodule.exports = getCommonOffsetAncestor;\n\n},{\"../../are-equal\":4,\"../../iterable/zip\":18,\"./get-offset-ancestors\":7}],6:[function(require,module,exports){\n'use strict';\n\nvar getVisibleArea = require('./get-visible-area');\nvar max = require('../../iterable/max');\n\nfunction getMostVisibleElement(elements, container) {\n    return max(elements, function (element) {\n        return getVisibleArea(element, container);\n    });\n}\n\nmodule.exports = getMostVisibleElement;\n\n},{\"../../iterable/max\":17,\"./get-visible-area\":10}],7:[function(require,module,exports){\n\"use strict\";\n\nfunction getOffsetAncestors(element) {\n    var terminusAncestor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    var result = [element];\n    while (element.offsetParent !== terminusAncestor && (element = element.offsetParent)) {\n        result.push(element);\n    }\n    return result;\n}\n\nmodule.exports = getOffsetAncestors;\n\n},{}],8:[function(require,module,exports){\n'use strict';\n\nvar Vector2d = require('../../math/geometry/vector-2d');\nvar getOffsetAncestors = require('./get-offset-ancestors');\n\nfunction getOffsetFromAncestor(element, ancestor) {\n    return getOffsetAncestors(element, ancestor).reduce(function (result, element) {\n        return result.add(Vector2d.fromElementOffset(element));\n    }, new Vector2d(0, 0));\n}\n\nmodule.exports = getOffsetFromAncestor;\n\n},{\"../../math/geometry/vector-2d\":21,\"./get-offset-ancestors\":7}],9:[function(require,module,exports){\n'use strict';\n\nvar Vector2d = require('../../math/geometry/vector-2d');\nvar getOffsetAncestors = require('./get-offset-ancestors');\n\nfunction getTransformFromAncestor(element, ancestor) {\n    return getOffsetAncestors(element, ancestor).reduce(function (result, element) {\n        return result.add(Vector2d.fromElementTransform(element));\n    }, new Vector2d(0, 0));\n}\n\nmodule.exports = getTransformFromAncestor;\n\n},{\"../../math/geometry/vector-2d\":21,\"./get-offset-ancestors\":7}],10:[function(require,module,exports){\n'use strict';\n\nvar getVisibleHeight = require('./get-visible-height');\nvar getVisibleWidth = require('./get-visible-width');\n\nfunction getVisibleArea(target, container) {\n    return getVisibleWidth(target, container) * getVisibleHeight(target, container);\n}\n\nmodule.exports = getVisibleArea;\n\n},{\"./get-visible-height\":13,\"./get-visible-width\":14}],11:[function(require,module,exports){\n'use strict';\n\nvar getCommonOffsetAncestor = require('./get-common-offset-ancestor');\nvar getVisibleDistanceFromAncestor = require('./get-visible-distance-from-ancestor');\n\nfunction getVisibleDistanceBetweenElements(a, b) {\n    var commonAncestor = getCommonOffsetAncestor(a, b);\n    return getVisibleDistanceFromAncestor(a, commonAncestor).subtract(getVisibleDistanceFromAncestor(b, commonAncestor));\n}\n\nmodule.exports = getVisibleDistanceBetweenElements;\n\n},{\"./get-common-offset-ancestor\":5,\"./get-visible-distance-from-ancestor\":12}],12:[function(require,module,exports){\n'use strict';\n\nvar getOffsetFromAncestor = require('./get-offset-from-ancestor');\nvar getTransformFromAncestor = require('./get-transform-from-ancestor');\n\nfunction getVisibleDistanceFromAncestor(element, ancestor) {\n    return getOffsetFromAncestor(element, ancestor).add(getTransformFromAncestor(element, ancestor));\n}\n\nmodule.exports = getVisibleDistanceFromAncestor;\n\n},{\"./get-offset-from-ancestor\":8,\"./get-transform-from-ancestor\":9}],13:[function(require,module,exports){\n'use strict';\n\nvar Range = require('../../range');\nvar getVisibleDistanceBetweenElements = require('./get-visible-distance-between-elements');\n\nfunction getVisibleHeight(target, container) {\n    var distance = getVisibleDistanceBetweenElements(target, container);\n    var visibleYRange = new Range(0, container.offsetHeight);\n    var startY = visibleYRange.clamp(distance.y);\n    var endY = visibleYRange.clamp(distance.y + target.offsetHeight);\n    return endY - startY;\n}\n\nmodule.exports = getVisibleHeight;\n\n},{\"../../range\":24,\"./get-visible-distance-between-elements\":11}],14:[function(require,module,exports){\n'use strict';\n\nvar Range = require('../../range');\nvar getVisibleDistanceBetweenElements = require('./get-visible-distance-between-elements');\n\nfunction getVisibleWidth(target, container) {\n    var distance = getVisibleDistanceBetweenElements(target, container);\n    var visibleXRange = new Range(0, container.offsetWidth);\n    var startX = visibleXRange.clamp(distance.x);\n    var endX = visibleXRange.clamp(distance.x + target.offsetWidth);\n    return endX - startX;\n}\n\nmodule.exports = getVisibleWidth;\n\n},{\"../../range\":24,\"./get-visible-distance-between-elements\":11}],15:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Matrix = function () {\n    function Matrix() {\n        _classCallCheck(this, Matrix);\n    }\n\n    _createClass(Matrix, [{\n        key: 'contructor',\n        value: function contructor(a, b, c, d, tx, ty) {\n            this.a_ = a;\n            this.b_ = b;\n            this.c_ = c;\n            this.d_ = d;\n            this.tx_ = tx;\n            this.ty_ = ty;\n        }\n    }, {\n        key: 'translateX',\n        get: function get() {\n            return this.tx_;\n        }\n    }, {\n        key: 'translateY',\n        get: function get() {\n            return this.ty_;\n        }\n    }], [{\n        key: 'parseFromString',\n        value: function parseFromString(str) {\n            var valuesStr = str.split('matrix(').splice(-1)[0].split(')')[0];\n            var values = valuesStr.split(',').map(function (str) {\n                return str.trim();\n            });\n            return new (Function.prototype.bind.apply(Matrix, [null].concat(_toConsumableArray(values))))();\n        }\n    }, {\n        key: 'fromElementTransform',\n        value: function fromElementTransform(element) {\n            return Matrix.parseFromString(window.getComputedStyle(element).transform);\n        }\n    }]);\n\n    return Matrix;\n}();\n\nmodule.exports = Matrix;\n\n},{}],16:[function(require,module,exports){\n'use strict';\n\nfunction isDef(value) {\n    return typeof value !== 'undefined';\n}\n\nmodule.exports = isDef;\n\n},{}],17:[function(require,module,exports){\n\"use strict\";\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction max(iterable, scoreFn) {\n    return [].concat(_toConsumableArray(iterable)).reduce(function (_ref, value) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            result = _ref2[0],\n            maxScore = _ref2[1];\n\n        var score = scoreFn(value);\n        if (result === undefined && maxScore === undefined || maxScore < score) {\n            return [value, score];\n        } else {\n            return [result, maxScore];\n        }\n    }, [undefined, undefined])[0];\n}\n\nmodule.exports = max;\n\n},{}],18:[function(require,module,exports){\n\"use strict\";\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction zip() {\n    return [].concat(Array.prototype.slice.call(arguments)).reduce(function (result, list) {\n        list.forEach(function (listItem, index) {\n            result[index] = [].concat(_toConsumableArray(result[index] || []), [listItem]);\n        });\n        return result;\n    }, []);\n}\n\nmodule.exports = zip;\n\n},{}],19:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MapWrapper = require('./map-wrapper');\n\nvar DynamicDefaultMap = function (_MapWrapper) {\n    _inherits(DynamicDefaultMap, _MapWrapper);\n\n    function DynamicDefaultMap(iterable, defaultFunction) {\n        _classCallCheck(this, DynamicDefaultMap);\n\n        var _this = _possibleConstructorReturn(this, (DynamicDefaultMap.__proto__ || Object.getPrototypeOf(DynamicDefaultMap)).call(this, iterable));\n\n        _this.defaultFunction_ = defaultFunction;\n        return _this;\n    }\n\n    _createClass(DynamicDefaultMap, [{\n        key: 'get',\n        value: function get(key) {\n            if (!this.has(key)) {\n                this.set(key, this.defaultFunction_(key));\n            }\n            return _get(DynamicDefaultMap.prototype.__proto__ || Object.getPrototypeOf(DynamicDefaultMap.prototype), 'get', this).call(this, key);\n        }\n    }]);\n\n    return DynamicDefaultMap;\n}(MapWrapper);\n\nmodule.exports = DynamicDefaultMap;\n\n},{\"./map-wrapper\":20}],20:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar isDef = require('../is-def');\n\nvar MapWrapper = function () {\n    function MapWrapper(iterable) {\n        _classCallCheck(this, MapWrapper);\n\n        this.map_ = new Map(iterable);\n    }\n\n    _createClass(MapWrapper, [{\n        key: 'get',\n        value: function get(key) {\n            return this.map_.get(key);\n        }\n    }, {\n        key: 'claer',\n        value: function claer() {\n            return this.map_.clear();\n        }\n    }, {\n        key: 'delete',\n        value: function _delete(key) {\n            return this.map_.delete(key);\n        }\n    }, {\n        key: 'entries',\n        value: function entries() {\n            return this.map_.entries();\n        }\n    }, {\n        key: 'forEach',\n        value: function forEach(callbackFn) {\n            var thisArg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;\n\n            var finalThisArg = isDef(thisArg) ? thisArg : this.map_;\n            return this.map_.forEach(callbackFn, finalThisArg);\n        }\n    }, {\n        key: 'get',\n        value: function get(key) {\n            return this.map_.get(key);\n        }\n    }, {\n        key: 'has',\n        value: function has(key) {\n            return this.map_.has(key);\n        }\n    }, {\n        key: 'keys',\n        value: function keys() {\n            return this.map_.keys();\n        }\n    }, {\n        key: 'set',\n        value: function set(key, value) {\n            return this.map_.set(key, value);\n        }\n    }, {\n        key: 'values',\n        value: function values() {\n            return this.map_.values();\n        }\n    }, {\n        key: Symbol.iterator,\n        value: function value() {\n            return this.map_[Symbol.iterator]();\n        }\n    }, {\n        key: 'length',\n        get: function get() {\n            return this.map_.length;\n        }\n    }, {\n        key: 'size',\n        get: function get() {\n            return this.map_.size;\n        }\n    }]);\n\n    return MapWrapper;\n}();\n\nmodule.exports = MapWrapper;\n\n},{\"../is-def\":16}],21:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Matrix = require('../../dom/position/matrix');\nvar Vector = require('./vector');\n\nvar Vector2d = function (_Vector) {\n    _inherits(Vector2d, _Vector);\n\n    function Vector2d(x, y) {\n        _classCallCheck(this, Vector2d);\n\n        return _possibleConstructorReturn(this, (Vector2d.__proto__ || Object.getPrototypeOf(Vector2d)).call(this, x, y));\n    }\n\n    _createClass(Vector2d, [{\n        key: 'x',\n        get: function get() {\n            return this.getValues()[0];\n        }\n    }, {\n        key: 'y',\n        get: function get() {\n            return this.getValues()[1];\n        }\n    }], [{\n        key: 'fromElementOffset',\n        value: function fromElementOffset(element) {\n            return new Vector2d(element.offsetLeft, element.offsetTop);\n        }\n    }, {\n        key: 'fromMatrix',\n        value: function fromMatrix(matrix) {\n            return new Vector2d(matrix.translateX, matrix.translateY);\n        }\n    }, {\n        key: 'fromElementTransform',\n        value: function fromElementTransform(element) {\n            return Vector2d.fromMatrix(Matrix.fromElementTransform(element));\n        }\n    }]);\n\n    return Vector2d;\n}(Vector);\n\nmodule.exports = Vector2d;\n\n},{\"../../dom/position/matrix\":15,\"./vector\":22}],22:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar sum = require('../sum');\nvar zip = require('../../iterable/zip');\n\nvar Vector = function () {\n    function Vector() {\n        _classCallCheck(this, Vector);\n\n        for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n            values[_key] = arguments[_key];\n        }\n\n        this.values_ = values;\n    }\n\n    _createClass(Vector, [{\n        key: 'add',\n        value: function add() {\n            for (var _len2 = arguments.length, vectors = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                vectors[_key2] = arguments[_key2];\n            }\n\n            return Vector.add.apply(Vector, [this].concat(vectors));\n        }\n    }, {\n        key: 'invert',\n        value: function invert() {\n            return Vector.invert(this);\n        }\n    }, {\n        key: 'subtract',\n        value: function subtract() {\n            for (var _len3 = arguments.length, subtrahends = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                subtrahends[_key3] = arguments[_key3];\n            }\n\n            return Vector.subtract.apply(Vector, [this].concat(subtrahends));\n        }\n    }, {\n        key: 'getValues',\n        value: function getValues() {\n            return this.values_;\n        }\n    }], [{\n        key: 'add',\n        value: function add() {\n            for (var _len4 = arguments.length, vectors = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n                vectors[_key4] = arguments[_key4];\n            }\n\n            var values = vectors.map(function (vector) {\n                return vector.getValues();\n            });\n            var summedValues = zip.apply(undefined, _toConsumableArray(values)).map(function (zippedVals) {\n                return sum.apply(undefined, _toConsumableArray(zippedVals));\n            });\n            return new (Function.prototype.bind.apply(Vector, [null].concat(_toConsumableArray(summedValues))))();\n        }\n    }, {\n        key: 'invert',\n        value: function invert(vector) {\n            return new (Function.prototype.bind.apply(Vector, [null].concat(_toConsumableArray(vector.getValues().map(function (val) {\n                return -val;\n            })))))();\n        }\n    }, {\n        key: 'subtract',\n        value: function subtract(minuend) {\n            for (var _len5 = arguments.length, subtrahends = Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {\n                subtrahends[_key5 - 1] = arguments[_key5];\n            }\n\n            return Vector.add.apply(Vector, [minuend].concat(_toConsumableArray(subtrahends.map(function (subtrahend) {\n                return subtrahend.invert();\n            }))));\n        }\n    }]);\n\n    return Vector;\n}();\n\nmodule.exports = Vector;\n\n},{\"../../iterable/zip\":18,\"../sum\":23}],23:[function(require,module,exports){\n\"use strict\";\n\nfunction sum() {\n    for (var _len = arguments.length, values = Array(_len), _key = 0; _key < _len; _key++) {\n        values[_key] = arguments[_key];\n    }\n\n    return values.reduce(function (result, value) {\n        return result + value;\n    }, 0);\n}\n\nmodule.exports = sum;\n\n},{}],24:[function(require,module,exports){\n\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Range = function () {\n    function Range(min, max) {\n        _classCallCheck(this, Range);\n\n        this.min_ = min;\n        this.max_ = max;\n    }\n\n    _createClass(Range, [{\n        key: \"clamp\",\n        value: function clamp(value) {\n            return Math.min(this.max_, Math.max(this.min_, value));\n        }\n    }, {\n        key: \"contains\",\n        value: function contains(value) {\n            return this.min_ <= value && value <= this.max_;\n        }\n    }]);\n\n    return Range;\n}();\n\nmodule.exports = Range;\n\n},{}],25:[function(require,module,exports){\n'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DynamicDefaultMap = require('./map/dynamic-default');\n\nvar Step = Object.freeze({\n    MEASURE: Symbol('Measure'),\n    MUTATE: Symbol('Mutate')\n});\n\nvar STEP_ORDER = Object.freeze([Step.MEASURE, Step.MUTATE]);\n\nvar scheduledFns_ = new DynamicDefaultMap(function () {\n    return new Map();\n});\n\nvar RenderFunction = function () {\n    function RenderFunction(step) {\n        _classCallCheck(this, RenderFunction);\n\n        this.step_ = step;\n    }\n\n    _createClass(RenderFunction, [{\n        key: 'cancel',\n        value: function cancel() {\n            scheduledFns_.get(this.step_).delete(this);\n        }\n    }]);\n\n    return RenderFunction;\n}();\n\nvar RenderLoop = function () {\n    function RenderLoop() {\n        _classCallCheck(this, RenderLoop);\n    }\n\n    _createClass(RenderLoop, null, [{\n        key: 'measure',\n        value: function measure(fn) {\n            addFnToStep(fn, Step.MEASURE);\n        }\n    }, {\n        key: 'mutate',\n        value: function mutate(fn) {\n            addFnToStep(fn, Step.MUTATE);\n        }\n    }]);\n\n    return RenderLoop;\n}();\n\nfunction addFnToStep(fn, step) {\n    var renderFn = new RenderFunction(step);\n    scheduledFns_.get(step).set(renderFn, fn);\n    return renderFn;\n}\n\nfunction runFnsForStep(step) {\n    scheduledFns_.get(step).values().forEach(function (fn) {\n        return fn();\n    });\n}\n\nfunction runLoop() {\n    STEP_ORDER.forEach(function (step) {\n        return runFnsForStep(step);\n    });\n    window.requestAnimationFrame(runLoop);\n}\n\nrunLoop();\n\nmodule.exports = RenderLoop;\n\n},{\"./map/dynamic-default\":19}]},{},[2])\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9iYXNlLmpzIiwibWFpbi5qcyIsIi4uL25hdi5qcyIsIi4uLy4uLy4uL3V0aWxzL2FyZS1lcXVhbC5qcyIsIi4uLy4uLy4uL3V0aWxzL2RvbS9wb3NpdGlvbi9nZXQtY29tbW9uLW9mZnNldC1hbmNlc3Rvci5qcyIsIi4uLy4uLy4uL3V0aWxzL2RvbS9wb3NpdGlvbi9nZXQtbW9zdC12aXNpYmxlLWVsZW1lbnQuanMiLCIuLi8uLi8uLi91dGlscy9kb20vcG9zaXRpb24vZ2V0LW9mZnNldC1hbmNlc3RvcnMuanMiLCIuLi8uLi8uLi91dGlscy9kb20vcG9zaXRpb24vZ2V0LW9mZnNldC1mcm9tLWFuY2VzdG9yLmpzIiwiLi4vLi4vLi4vdXRpbHMvZG9tL3Bvc2l0aW9uL2dldC10cmFuc2Zvcm0tZnJvbS1hbmNlc3Rvci5qcyIsIi4uLy4uLy4uL3V0aWxzL2RvbS9wb3NpdGlvbi9nZXQtdmlzaWJsZS1hcmVhLmpzIiwiLi4vLi4vLi4vdXRpbHMvZG9tL3Bvc2l0aW9uL2dldC12aXNpYmxlLWRpc3RhbmNlLWJldHdlZW4tZWxlbWVudHMuanMiLCIuLi8uLi8uLi91dGlscy9kb20vcG9zaXRpb24vZ2V0LXZpc2libGUtZGlzdGFuY2UtZnJvbS1hbmNlc3Rvci5qcyIsIi4uLy4uLy4uL3V0aWxzL2RvbS9wb3NpdGlvbi9nZXQtdmlzaWJsZS1oZWlnaHQuanMiLCIuLi8uLi8uLi91dGlscy9kb20vcG9zaXRpb24vZ2V0LXZpc2libGUtd2lkdGguanMiLCIuLi8uLi8uLi91dGlscy9kb20vcG9zaXRpb24vbWF0cml4LmpzIiwiLi4vLi4vLi4vdXRpbHMvaXMtZGVmLmpzIiwiLi4vLi4vLi4vdXRpbHMvaXRlcmFibGUvbWF4LmpzIiwiLi4vLi4vLi4vdXRpbHMvaXRlcmFibGUvemlwLmpzIiwiLi4vLi4vLi4vdXRpbHMvbWFwL2R5bmFtaWMtZGVmYXVsdC5qcyIsIi4uLy4uLy4uL3V0aWxzL21hcC9tYXAtd3JhcHBlci5qcyIsIi4uLy4uLy4uL3V0aWxzL21hdGgvZ2VvbWV0cnkvdmVjdG9yLTJkLmpzIiwiLi4vLi4vLi4vdXRpbHMvbWF0aC9nZW9tZXRyeS92ZWN0b3IuanMiLCIuLi8uLi8uLi91dGlscy9tYXRoL3N1bS5qcyIsIi4uLy4uLy4uL3V0aWxzL3JhbmdlLmpzIiwiLi4vLi4vLi4vdXRpbHMvcmVuZGVyLWxvb3AuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7QUNBQSxJQUFNLHdCQUF3QixRQUFRLG1EQUFSLENBQTlCOztJQUVNLFE7QUFDRixzQkFBWSxTQUFaLEVBQXVCLE1BQXZCLEVBQStCO0FBQUE7O0FBQzNCLGFBQUssVUFBTCxHQUFrQixTQUFsQjtBQUNBLGFBQUssT0FBTCxHQUFlLE1BQWY7QUFDSDs7Ozt5Q0FFZ0I7QUFDYixtQkFBTyxzQkFBc0IsS0FBSyxPQUEzQixFQUFvQyxLQUFLLFVBQXpDLENBQVA7QUFDSDs7O29DQUVXO0FBQ1IsbUJBQU8sS0FBSyxPQUFaO0FBQ0g7Ozs7OztBQUdMLE9BQU8sT0FBUCxHQUFpQixRQUFqQjs7Ozs7QUNqQkEsSUFBTSxXQUFXLFFBQVEsU0FBUixDQUFqQjtBQUNBLElBQU0sY0FBYyxRQUFRLFFBQVIsQ0FBcEI7O0FBRUEsSUFBTSxrQkFBa0IsU0FBUyxhQUFULENBQXVCLFdBQXZCLENBQXhCO0FBQ0EsSUFBTSxnQkFBZ0IsU0FBUyxnQkFBVCxDQUEwQixrQkFBMUIsQ0FBdEI7QUFDQSxJQUFNLFdBQVcsSUFBSSxRQUFKLENBQWEsZUFBYixFQUE4QixhQUE5QixDQUFqQjs7QUFFQSxJQUFNLG9CQUFvQixTQUFTLGFBQVQsQ0FBdUIsZ0JBQXZCLENBQTFCO0FBQ0EsSUFBTSxhQUFhLElBQUksV0FBSixDQUFnQixRQUFoQixFQUEwQixpQkFBMUIsQ0FBbkI7Ozs7Ozs7OztBQ1JBLElBQU0sV0FBVyxRQUFRLFFBQVIsQ0FBakI7QUFDQSxJQUFNLG9CQUFvQixRQUFRLGlDQUFSLENBQTFCO0FB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QUssS0FBTCxHQUFhLElBQWI7QUFDSDs7OztpQ0FFUTtBQUNMLDBCQUFjLEdBQWQsQ0FBa0IsS0FBSyxLQUF2QixFQUE4QixNQUE5QixDQUFxQyxJQUFyQztBQUNIOzs7Ozs7SUFHQyxVOzs7Ozs7O2dDQUNhLEUsRUFBSTtBQUNmLHdCQUFZLEVBQVosRUFBZ0IsS0FBSyxPQUFyQjtBQUNIOzs7K0JBRWEsRSxFQUFJO0FBQ2Qsd0JBQVksRUFBWixFQUFnQixLQUFLLE1BQXJCO0FBQ0g7Ozs7OztBQUdMLFNBQVMsV0FBVCxDQUFxQixFQUFyQixFQUF5QixJQUF6QixFQUErQjtBQUMzQixRQUFNLFdBQVcsSUFBSSxjQUFKLENBQW1CLElBQW5CLENBQWpCO0FBQ0Esa0JBQWMsR0FBZCxDQUFrQixJQUFsQixFQUF3QixHQUF4QixDQUE0QixRQUE1QixFQUFzQyxFQUF0QztBQUNBLFdBQU8sUUFBUDtBQUNIOztBQUVELFNBQVMsYUFBVCxDQUF1QixJQUF2QixFQUE2QjtBQUN6QixrQkFBYyxHQUFkLENBQWtCLElBQWxCLEVBQXdCLE1BQXhCLEdBQWlDLE9BQWpDLENBQXlDLFVBQUMsRUFBRDtBQUFBLGVBQVEsSUFBUjtBQUFBLEtBQXpDO0FBQ0g7O0FBRUQsU0FBUyxPQUFULEdBQW1CO0FBQ2YsZUFBVyxPQUFYLENBQW1CLFVBQUMsSUFBRDtBQUFBLGVBQVUsY0FBYyxJQUFkLENBQVY7QUFBQSxLQUFuQjtBQUNBLFdBQU8scUJBQVAsQ0FBNkIsT0FBN0I7QUFDSDs7QUFFRDs7QUFFQSxPQUFPLE9BQVAsR0FBaUIsVUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiY29uc3QgZ2V0TW9zdFZpc2libGVFbGVtZW50ID0gcmVxdWlyZSgnLi4vLi4vdXRpbHMvZG9tL3Bvc2l0aW9uL2dldC1tb3N0LXZpc2libGUtZWxlbWVudCcpO1xuXG5jbGFzcyBDYXJvdXNlbCB7XG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBzbGlkZXMpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJfID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnNsaWRlc18gPSBzbGlkZXM7XG4gICAgfVxuXG4gICAgZ2V0QWN0aXZlU2xpZGUoKSB7XG4gICAgICAgIHJldHVybiBnZXRNb3N0VmlzaWJsZUVsZW1lbnQodGhpcy5zbGlkZXNfLCB0aGlzLmNvbnRhaW5lcl8pO1xuICAgIH1cblxuICAgIGdldFNsaWRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2xpZGVzXztcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2Fyb3VzZWw7XG4iLCJjb25zdCBDYXJvdXNlbCA9IHJlcXVpcmUoJy4uL2Jhc2UnKTtcbmNvbnN0IENhcm91c2VsTmF2ID0gcmVxdWlyZSgnLi4vbmF2Jyk7XG5cbmNvbnN0IGNhcm91c2VsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJvdXNlbCcpO1xuY29uc3Qgc2xpZGVFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJvdXNlbF9fc2xpZGUnKTtcbmNvbnN0IGNhcm91c2VsID0gbmV3IENhcm91c2VsKGNhcm91c2VsRWxlbWVudCwgc2xpZGVFbGVtZW50cyk7XG5cbmNvbnN0IG5hdmlnYXRpb25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcm91c2VsX19uYXYnKTtcbmNvbnN0IG5hdmlnYXRpb24gPSBuZXcgQ2Fyb3VzZWxOYXYoY2Fyb3VzZWwsIG5hdmlnYXRpb25FbGVtZW50KTtcbiIsImNvbnN0IENhcm91c2VsID0gcmVxdWlyZSgnLi9iYXNlJyk7XG5jb25zdCBEeW5hbWljRGVmYXVsdE1hcCA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzL21hcC9keW5hbWljLWRlZmF1bHQnKTtcbmNvbnN0IFJlbmRlckxvb3AgPSByZXF1aXJlKCcuLi8uLi91dGlscy9yZW5kZXItbG9vcCcpO1xuXG5jb25zdCBEZWZhdWx0Q2xhc3MgPSBPYmplY3QuZnJlZXplKHtcbiAgICBBQ1RJVkVfTkFWX0lURU06ICdhY3RpdmUnLFxufSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHROYXZJdGVtKHNsaWRlKSB7XG4gICAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSAnLic7XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbmNsYXNzIENhcm91c2VsTmF2IHtcbiAgICBjb25zdHJ1Y3RvcihjYXJvdXNlbCwgbmF2RWxlbWVudCwgY3JlYXRlTmF2SXRlbUZuPWNyZWF0ZURlZmF1bHROYXZJdGVtKCkpIHtcbiAgICAgICAgdGhpcy5jYXJvdXNlbF8gPSBjYXJvdXNlbDtcbiAgICAgICAgdGhpcy5uYXZFbGVtZW50XyA9IG5hdkVsZW1lbnQ7XG4gICAgICAgIHRoaXMubmF2SXRlbXNfID1cbiAgICAgICAgICAgIG5ldyBEeW5hbWljRGVmYXVsdE1hcCgoc2xpZGUpID0+IGNyZWF0ZU5hdkl0ZW1GbihzbGlkZSkpO1xuICAgICAgICB0aGlzLmluaXRfKCk7XG4gICAgfVxuXG4gICAgaW5pdF8oKSB7XG4gICAgICAgIFJlbmRlckxvb3AubWVhc3VyZSgoKSA9PiB0aGlzLnJlbmRlcl8oKSk7XG4gICAgfVxuXG4gICAgcmVuZGVyXygpIHtcbiAgICAgICAgY29uc3QgYWN0aXZlU2xpZGUgPSB0aGlzLmNhcm91c2VsXy5nZXRBY3RpdmVTbGlkZSgpO1xuICAgICAgICBSZW5kZXJMb29wLm11dGF0ZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0TmF2SXRlbXNfKCk7XG4gICAgICAgICAgICB0aGlzLm1hcmtBY3RpdmVOYXZJdGVtKGFjdGl2ZVNsaWRlKTtcbiAgICAgICAgICAgIFJlbmRlckxvb3AubWVhc3VyZSgoKSA9PiB0aGlzLnJlbmRlcl8oKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc2V0TmF2SXRlbXNfKCkge1xuICAgICAgICB0aGlzLm5hdkVsZW1lbnRfLmlubmVySFRNTCA9ICcnO1xuICAgICAgICB0aGlzLmNhcm91c2VsXy5nZXRTbGlkZXMoKS5mb3JFYWNoKFxuICAgICAgICAgICAgKHNsaWRlKSA9PiB0aGlzLnJlc2V0TmF2SXRlbUZvclNsaWRlXyhzbGlkZSkpO1xuICAgIH1cblxuICAgIHJlc2V0TmF2SXRlbUZvclNsaWRlXyhzbGlkZSkge1xuICAgICAgICBjb25zdCBuYXZJdGVtID0gdGhpcy5uYXZJdGVtc18uZ2V0KHNsaWRlKTtcbiAgICAgICAgdGhpcy5uYXZFbGVtZW50Xy5hcHBlbmRDaGlsZChuYXZJdGVtKTtcbiAgICAgICAgbmF2SXRlbS5jbGFzc0xpc3QucmVtb3ZlKERlZmF1bHRDbGFzcy5BQ1RJVkVfTkFWX0lURU0pO1xuICAgIH1cblxuICAgIG1hcmtBY3RpdmVOYXZJdGVtKGFjdGl2ZVNsaWRlKSB7XG4gICAgICAgIHRoaXMubmF2SXRlbXNfLmdldChhY3RpdmVTbGlkZSlcbiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKERlZmF1bHRDbGFzcy5BQ1RJVkVfTkFWX0lURU0pO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDYXJvdXNlbE5hdjtcbiIsImZ1bmN0aW9uIGFyZUVxdWFsKHRhcmdldCwgLi4udmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5ldmVyeSgodmFsdWUpID0+IHRhcmdldCA9PT0gdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFyZUVxdWFsO1xuIiwiY29uc3QgYXJlRXF1YWwgPSByZXF1aXJlKCcuLi8uLi9hcmUtZXF1YWwnKTtcbmNvbnN0IGdldE9mZnNldEFuY2VzdG9ycyA9IHJlcXVpcmUoJy4vZ2V0LW9mZnNldC1hbmNlc3RvcnMnKTtcbmNvbnN0IHppcCA9IHJlcXVpcmUoJy4uLy4uL2l0ZXJhYmxlL3ppcCcpO1xuXG5mdW5jdGlvbiBnZXRDb21tb25PZmZzZXRBbmNlc3RvciguLi5lbGVtZW50cykge1xuICAgIGNvbnN0IHJldmVyc2VkQW5jZXN0b3JMaXN0cyA9XG4gICAgICAgIGVsZW1lbnRzLm1hcCgoZWxlbWVudCkgPT4gZ2V0T2Zmc2V0QW5jZXN0b3JzKGVsZW1lbnQpKS5yZXZlcnNlKCk7XG4gICAgY29uc3QgYW5jZXN0b3JJbmRleCA9IGdldExhc3RNYXRjaGluZ0luZGV4KC4uLnJldmVyc2VkQW5jZXN0b3JMaXN0cyk7XG4gICAgcmV0dXJuIHJldmVyc2VkQW5jZXN0b3JMaXN0c1swXVthbmNlc3RvckluZGV4XTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFzdE1hdGNoaW5nSW5kZXgoLi4ubGlzdHMpIHtcbiAgICBjb25zdCB6aXBwZWRWYWx1ZXMgPSB6aXAobGlzdHMpO1xuICAgIGxldCBtYXRjaEluZGV4ID0gLTE7XG4gICAgd2hpbGUgKGFyZUVxdWFsKC4uLnppcHBlZFZhbHVlc1ttYXRjaEluZGV4ICsgMV0pKSB7XG4gICAgICAgIG1hdGNoSW5kZXgrKztcbiAgICB9XG4gICAgcmV0dXJuIG1hdGNoSW5kZXg7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0Q29tbW9uT2Zmc2V0QW5jZXN0b3I7XG4iLCJjb25zdCBnZXRWaXNpYmxlQXJlYSA9IHJlcXVpcmUoJy4vZ2V0LXZpc2libGUtYXJlYScpO1xuY29uc3QgbWF4ID0gcmVxdWlyZSgnLi4vLi4vaXRlcmFibGUvbWF4Jyk7XG5cbmZ1bmN0aW9uIGdldE1vc3RWaXNpYmxlRWxlbWVudChlbGVtZW50cywgY29udGFpbmVyKSB7XG4gICAgcmV0dXJuIG1heChlbGVtZW50cywgKGVsZW1lbnQpID0+IGdldFZpc2libGVBcmVhKGVsZW1lbnQsIGNvbnRhaW5lcikpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE1vc3RWaXNpYmxlRWxlbWVudDtcbiIsImZ1bmN0aW9uIGdldE9mZnNldEFuY2VzdG9ycyhlbGVtZW50LCB0ZXJtaW51c0FuY2VzdG9yID0gbnVsbCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtlbGVtZW50XTtcbiAgICB3aGlsZSAoXG4gICAgICAgIGVsZW1lbnQub2Zmc2V0UGFyZW50ICE9PSB0ZXJtaW51c0FuY2VzdG9yICYmXG4gICAgICAgIChlbGVtZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQpXG4gICAgKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGVsZW1lbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE9mZnNldEFuY2VzdG9ycztcbiIsImNvbnN0IFZlY3RvcjJkID0gcmVxdWlyZSgnLi4vLi4vbWF0aC9nZW9tZXRyeS92ZWN0b3ItMmQnKTtcbmNvbnN0IGdldE9mZnNldEFuY2VzdG9ycyA9IHJlcXVpcmUoJy4vZ2V0LW9mZnNldC1hbmNlc3RvcnMnKTtcblxuZnVuY3Rpb24gZ2V0T2Zmc2V0RnJvbUFuY2VzdG9yKGVsZW1lbnQsIGFuY2VzdG9yKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldEFuY2VzdG9ycyhlbGVtZW50LCBhbmNlc3RvcikucmVkdWNlKFxuICAgICAgICAocmVzdWx0LCBlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LmFkZChWZWN0b3IyZC5mcm9tRWxlbWVudE9mZnNldChlbGVtZW50KSk7XG4gICAgICAgIH0sXG4gICAgICAgIG5ldyBWZWN0b3IyZCgwLCAwKVxuICAgICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0T2Zmc2V0RnJvbUFuY2VzdG9yO1xuIiwiY29uc3QgVmVjdG9yMmQgPSByZXF1aXJlKCcuLi8uLi9tYXRoL2dlb21ldHJ5L3ZlY3Rvci0yZCcpO1xuY29uc3QgZ2V0T2Zmc2V0QW5jZXN0b3JzID0gcmVxdWlyZSgnLi9nZXQtb2Zmc2V0LWFuY2VzdG9ycycpO1xuXG5mdW5jdGlvbiBnZXRUcmFuc2Zvcm1Gcm9tQW5jZXN0b3IoZWxlbWVudCwgYW5jZXN0b3IpIHtcbiAgICByZXR1cm4gZ2V0T2Zmc2V0QW5jZXN0b3JzKGVsZW1lbnQsIGFuY2VzdG9yKS5yZWR1Y2UoXG4gICAgICAgIChyZXN1bHQsIGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuYWRkKFZlY3RvcjJkLmZyb21FbGVtZW50VHJhbnNmb3JtKGVsZW1lbnQpKTtcbiAgICAgICAgfSxcbiAgICAgICAgbmV3IFZlY3RvcjJkKDAsIDApXG4gICAgKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRUcmFuc2Zvcm1Gcm9tQW5jZXN0b3I7XG4iLCJjb25zdCBnZXRWaXNpYmxlSGVpZ2h0ID0gcmVxdWlyZSgnLi9nZXQtdmlzaWJsZS1oZWlnaHQnKTtcbmNvbnN0IGdldFZpc2libGVXaWR0aCA9IHJlcXVpcmUoJy4vZ2V0LXZpc2libGUtd2lkdGgnKTtcblxuZnVuY3Rpb24gZ2V0VmlzaWJsZUFyZWEodGFyZ2V0LCBjb250YWluZXIpIHtcbiAgICByZXR1cm4gZ2V0VmlzaWJsZVdpZHRoKHRhcmdldCwgY29udGFpbmVyKSAqXG4gICAgICAgIGdldFZpc2libGVIZWlnaHQodGFyZ2V0LCBjb250YWluZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZpc2libGVBcmVhO1xuIiwiY29uc3QgZ2V0Q29tbW9uT2Zmc2V0QW5jZXN0b3IgPSByZXF1aXJlKCcuL2dldC1jb21tb24tb2Zmc2V0LWFuY2VzdG9yJyk7XG5jb25zdCBnZXRWaXNpYmxlRGlzdGFuY2VGcm9tQW5jZXN0b3IgPSByZXF1aXJlKCcuL2dldC12aXNpYmxlLWRpc3RhbmNlLWZyb20tYW5jZXN0b3InKTtcblxuZnVuY3Rpb24gZ2V0VmlzaWJsZURpc3RhbmNlQmV0d2VlbkVsZW1lbnRzKGEsIGIpIHtcbiAgICBjb25zdCBjb21tb25BbmNlc3RvciA9IGdldENvbW1vbk9mZnNldEFuY2VzdG9yKGEsIGIpO1xuICAgIHJldHVybiBnZXRWaXNpYmxlRGlzdGFuY2VGcm9tQW5jZXN0b3IoYSwgY29tbW9uQW5jZXN0b3IpXG4gICAgICAgIC5zdWJ0cmFjdChnZXRWaXNpYmxlRGlzdGFuY2VGcm9tQW5jZXN0b3IoYiwgY29tbW9uQW5jZXN0b3IpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWaXNpYmxlRGlzdGFuY2VCZXR3ZWVuRWxlbWVudHM7XG4iLCJjb25zdCBnZXRPZmZzZXRGcm9tQW5jZXN0b3IgPSByZXF1aXJlKCcuL2dldC1vZmZzZXQtZnJvbS1hbmNlc3RvcicpO1xuY29uc3QgZ2V0VHJhbnNmb3JtRnJvbUFuY2VzdG9yID0gcmVxdWlyZSgnLi9nZXQtdHJhbnNmb3JtLWZyb20tYW5jZXN0b3InKTtcblxuZnVuY3Rpb24gZ2V0VmlzaWJsZURpc3RhbmNlRnJvbUFuY2VzdG9yKGVsZW1lbnQsIGFuY2VzdG9yKSB7XG4gICAgcmV0dXJuIGdldE9mZnNldEZyb21BbmNlc3RvcihlbGVtZW50LCBhbmNlc3RvcilcbiAgICAgICAgLmFkZChnZXRUcmFuc2Zvcm1Gcm9tQW5jZXN0b3IoZWxlbWVudCwgYW5jZXN0b3IpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRWaXNpYmxlRGlzdGFuY2VGcm9tQW5jZXN0b3I7XG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uLy4uL3JhbmdlJyk7XG5jb25zdCBnZXRWaXNpYmxlRGlzdGFuY2VCZXR3ZWVuRWxlbWVudHMgPSByZXF1aXJlKCcuL2dldC12aXNpYmxlLWRpc3RhbmNlLWJldHdlZW4tZWxlbWVudHMnKTtcblxuZnVuY3Rpb24gZ2V0VmlzaWJsZUhlaWdodCh0YXJnZXQsIGNvbnRhaW5lcikge1xuICAgIGNvbnN0IGRpc3RhbmNlID0gZ2V0VmlzaWJsZURpc3RhbmNlQmV0d2VlbkVsZW1lbnRzKHRhcmdldCwgY29udGFpbmVyKTtcbiAgICBjb25zdCB2aXNpYmxlWVJhbmdlID0gbmV3IFJhbmdlKDAsIGNvbnRhaW5lci5vZmZzZXRIZWlnaHQpO1xuICAgIGNvbnN0IHN0YXJ0WSA9IHZpc2libGVZUmFuZ2UuY2xhbXAoZGlzdGFuY2UueSk7XG4gICAgY29uc3QgZW5kWSA9IHZpc2libGVZUmFuZ2UuY2xhbXAoZGlzdGFuY2UueSArIHRhcmdldC5vZmZzZXRIZWlnaHQpO1xuICAgIHJldHVybiBlbmRZIC0gc3RhcnRZO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZpc2libGVIZWlnaHQ7XG4iLCJjb25zdCBSYW5nZSA9IHJlcXVpcmUoJy4uLy4uL3JhbmdlJyk7XG5jb25zdCBnZXRWaXNpYmxlRGlzdGFuY2VCZXR3ZWVuRWxlbWVudHMgPSByZXF1aXJlKCcuL2dldC12aXNpYmxlLWRpc3RhbmNlLWJldHdlZW4tZWxlbWVudHMnKTtcblxuZnVuY3Rpb24gZ2V0VmlzaWJsZVdpZHRoKHRhcmdldCwgY29udGFpbmVyKSB7XG4gICAgY29uc3QgZGlzdGFuY2UgPSBnZXRWaXNpYmxlRGlzdGFuY2VCZXR3ZWVuRWxlbWVudHModGFyZ2V0LCBjb250YWluZXIpO1xuICAgIGNvbnN0IHZpc2libGVYUmFuZ2UgPSBuZXcgUmFuZ2UoMCwgY29udGFpbmVyLm9mZnNldFdpZHRoKTtcbiAgICBjb25zdCBzdGFydFggPSB2aXNpYmxlWFJhbmdlLmNsYW1wKGRpc3RhbmNlLngpO1xuICAgIGNvbnN0IGVuZFggPSB2aXNpYmxlWFJhbmdlLmNsYW1wKGRpc3RhbmNlLnggKyB0YXJnZXQub2Zmc2V0V2lkdGgpO1xuICAgIHJldHVybiBlbmRYIC0gc3RhcnRYO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZpc2libGVXaWR0aDtcbiIsImNsYXNzIE1hdHJpeCB7XG4gICAgY29udHJ1Y3RvcihhLCBiLCBjLCBkLCB0eCwgdHkpIHtcbiAgICAgICAgdGhpcy5hXyA9IGE7XG4gICAgICAgIHRoaXMuYl8gPSBiO1xuICAgICAgICB0aGlzLmNfID0gYztcbiAgICAgICAgdGhpcy5kXyA9IGQ7XG4gICAgICAgIHRoaXMudHhfID0gdHg7XG4gICAgICAgIHRoaXMudHlfID0gdHk7XG4gICAgfVxuXG4gICAgZ2V0IHRyYW5zbGF0ZVgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR4XztcbiAgICB9XG5cbiAgICBnZXQgdHJhbnNsYXRlWSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlfO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZUZyb21TdHJpbmcoc3RyKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlc1N0ciA9IHN0ci5zcGxpdCgnbWF0cml4KCcpLnNwbGljZSgtMSlbMF0uc3BsaXQoJyknKVswXTtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWVzU3RyLnNwbGl0KCcsJykubWFwKChzdHIpID0+IHN0ci50cmltKCkpO1xuICAgICAgICByZXR1cm4gbmV3IE1hdHJpeCguLi52YWx1ZXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tRWxlbWVudFRyYW5zZm9ybShlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBNYXRyaXgucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkudHJhbnNmb3JtKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWF0cml4O1xuIiwiZnVuY3Rpb24gaXNEZWYodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0RlZjsiLCJmdW5jdGlvbiBtYXgoaXRlcmFibGUsIHNjb3JlRm4pIHtcbiAgICByZXR1cm4gWy4uLml0ZXJhYmxlXS5yZWR1Y2UoKFtyZXN1bHQsIG1heFNjb3JlXSwgdmFsdWUpID0+IHtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBzY29yZUZuKHZhbHVlKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKHJlc3VsdCA9PT0gdW5kZWZpbmVkICYmIG1heFNjb3JlID09PSB1bmRlZmluZWQpIHx8XG4gICAgICAgICAgICBtYXhTY29yZSA8IHNjb3JlXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIFt2YWx1ZSwgc2NvcmVdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtyZXN1bHQsIG1heFNjb3JlXTtcbiAgICAgICAgfVxuICAgIH0sIFt1bmRlZmluZWQsIHVuZGVmaW5lZF0pWzBdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1heDtcbiIsImZ1bmN0aW9uIHppcCgpIHtcbiAgICByZXR1cm4gWy4uLmFyZ3VtZW50c10ucmVkdWNlKFxuICAgICAgICAocmVzdWx0LCBsaXN0KSA9PiB7XG4gICAgICAgICAgICBsaXN0LmZvckVhY2goXG4gICAgICAgICAgICAgICAgKGxpc3RJdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbaW5kZXhdID0gWy4uLihyZXN1bHRbaW5kZXhdIHx8IFtdKSwgbGlzdEl0ZW1dfSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9LFxuICAgICAgICBbXVxuICAgICk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gemlwOyIsImNvbnN0IE1hcFdyYXBwZXIgPSByZXF1aXJlKCcuL21hcC13cmFwcGVyJyk7XG5cbmNsYXNzIER5bmFtaWNEZWZhdWx0TWFwIGV4dGVuZHMgTWFwV3JhcHBlciB7XG4gICAgY29uc3RydWN0b3IoaXRlcmFibGUsIGRlZmF1bHRGdW5jdGlvbikge1xuICAgICAgICBzdXBlcihpdGVyYWJsZSk7XG4gICAgICAgIHRoaXMuZGVmYXVsdEZ1bmN0aW9uXyA9IGRlZmF1bHRGdW5jdGlvbjtcbiAgICB9XG5cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGlmICghdGhpcy5oYXMoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB0aGlzLmRlZmF1bHRGdW5jdGlvbl8oa2V5KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLmdldChrZXkpO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEeW5hbWljRGVmYXVsdE1hcDtcbiIsImNvbnN0IGlzRGVmID0gcmVxdWlyZSgnLi4vaXMtZGVmJyk7XG5cbmNsYXNzIE1hcFdyYXBwZXIge1xuICAgIGNvbnN0cnVjdG9yKGl0ZXJhYmxlKSB7XG4gICAgICAgIHRoaXMubWFwXyA9IG5ldyBNYXAoaXRlcmFibGUpO1xuICAgIH1cblxuICAgIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLmxlbmd0aDtcbiAgICB9XG5cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5zaXplO1xuICAgIH1cblxuICAgIGNsYWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLmRlbGV0ZShrZXkpO1xuICAgIH1cblxuICAgIGVudHJpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uZW50cmllcygpO1xuICAgIH1cblxuICAgIGZvckVhY2goY2FsbGJhY2tGbiwgdGhpc0FyZyA9IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBmaW5hbFRoaXNBcmcgPSBpc0RlZih0aGlzQXJnKSA/IHRoaXNBcmcgOiB0aGlzLm1hcF87XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uZm9yRWFjaChjYWxsYmFja0ZuLCBmaW5hbFRoaXNBcmcpO1xuICAgIH1cblxuICAgIGdldChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICBoYXMoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcF8uaGFzKGtleSk7XG4gICAgfVxuXG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5rZXlzKCk7XG4gICAgfVxuXG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwXy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfLnZhbHVlcygpO1xuICAgIH1cblxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXBfW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWFwV3JhcHBlcjtcbiIsImNvbnN0IE1hdHJpeCA9IHJlcXVpcmUoJy4uLy4uL2RvbS9wb3NpdGlvbi9tYXRyaXgnKTtcbmNvbnN0IFZlY3RvciA9IHJlcXVpcmUoJy4vdmVjdG9yJyk7XG5cbmNsYXNzIFZlY3RvcjJkIGV4dGVuZHMgVmVjdG9yIHtcbiAgICBjb25zdHJ1Y3Rvcih4LCB5KSB7XG4gICAgICAgIHN1cGVyKHgsIHkpO1xuICAgIH1cblxuICAgIGdldCB4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZXMoKVswXTtcbiAgICB9XG5cbiAgICBnZXQgeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVzKClbMV07XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21FbGVtZW50T2Zmc2V0KGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyZChlbGVtZW50Lm9mZnNldExlZnQsIGVsZW1lbnQub2Zmc2V0VG9wKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZnJvbU1hdHJpeChtYXRyaXgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyZChtYXRyaXgudHJhbnNsYXRlWCwgbWF0cml4LnRyYW5zbGF0ZVkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tRWxlbWVudFRyYW5zZm9ybShlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IyZC5mcm9tTWF0cml4KE1hdHJpeC5mcm9tRWxlbWVudFRyYW5zZm9ybShlbGVtZW50KSk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFZlY3RvcjJkOyIsImNvbnN0IHN1bSA9IHJlcXVpcmUoJy4uL3N1bScpO1xuY29uc3QgemlwID0gcmVxdWlyZSgnLi4vLi4vaXRlcmFibGUvemlwJyk7XG5cbmNsYXNzIFZlY3RvciB7XG4gICAgY29uc3RydWN0b3IoLi4udmFsdWVzKSB7XG4gICAgICAgIHRoaXMudmFsdWVzXyA9IHZhbHVlcztcbiAgICB9XG5cbiAgICBzdGF0aWMgYWRkKC4uLnZlY3RvcnMpIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdmVjdG9ycy5tYXAoKHZlY3RvcikgPT4gdmVjdG9yLmdldFZhbHVlcygpKTtcbiAgICAgICAgY29uc3Qgc3VtbWVkVmFsdWVzID1cbiAgICAgICAgICAgIHppcCguLi52YWx1ZXMpLm1hcCgoemlwcGVkVmFscykgPT4gc3VtKC4uLnppcHBlZFZhbHMpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IoLi4uc3VtbWVkVmFsdWVzKTtcbiAgICB9XG5cbiAgICBhZGQoLi4udmVjdG9ycykge1xuICAgICAgICByZXR1cm4gVmVjdG9yLmFkZCh0aGlzLCAuLi52ZWN0b3JzKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaW52ZXJ0KHZlY3Rvcikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvciguLi52ZWN0b3IuZ2V0VmFsdWVzKCkubWFwKCh2YWwpID0+IC12YWwpKTtcbiAgICB9XG5cbiAgICBpbnZlcnQoKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3IuaW52ZXJ0KHRoaXMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdWJ0cmFjdChtaW51ZW5kLCAuLi5zdWJ0cmFoZW5kcykge1xuICAgICAgICByZXR1cm4gVmVjdG9yLmFkZChcbiAgICAgICAgICAgIG1pbnVlbmQsIC4uLnN1YnRyYWhlbmRzLm1hcCgoc3VidHJhaGVuZCkgPT4gc3VidHJhaGVuZC5pbnZlcnQoKSkpO1xuICAgIH1cblxuICAgIHN1YnRyYWN0KC4uLnN1YnRyYWhlbmRzKSB7XG4gICAgICAgIHJldHVybiBWZWN0b3Iuc3VidHJhY3QodGhpcywgLi4uc3VidHJhaGVuZHMpO1xuICAgIH1cblxuICAgIGdldFZhbHVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWVzXztcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gVmVjdG9yOyIsImZ1bmN0aW9uIHN1bSguLi52YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLnJlZHVjZSgocmVzdWx0LCB2YWx1ZSkgPT4gcmVzdWx0ICsgdmFsdWUsIDApO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN1bTtcbiIsImNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihtaW4sIG1heCkge1xuICAgICAgICB0aGlzLm1pbl8gPSBtaW47XG4gICAgICAgIHRoaXMubWF4XyA9IG1heDtcbiAgICB9XG5cbiAgICBjbGFtcCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5taW4odGhpcy5tYXhfLCBNYXRoLm1heCh0aGlzLm1pbl8sIHZhbHVlKSk7XG4gICAgfVxuXG4gICAgY29udGFpbnModmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluXyA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSB0aGlzLm1heF87XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJhbmdlO1xuIiwiY29uc3QgRHluYW1pY0RlZmF1bHRNYXAgPSByZXF1aXJlKCcuL21hcC9keW5hbWljLWRlZmF1bHQnKTtcblxuY29uc3QgU3RlcCA9IE9iamVjdC5mcmVlemUoe1xuICAgIE1FQVNVUkU6IFN5bWJvbCgnTWVhc3VyZScpLFxuICAgIE1VVEFURTogU3ltYm9sKCdNdXRhdGUnKSxcbn0pO1xuXG5jb25zdCBTVEVQX09SREVSID0gT2JqZWN0LmZyZWV6ZShbU3RlcC5NRUFTVVJFLCBTdGVwLk1VVEFURV0pO1xuXG5jb25zdCBzY2hlZHVsZWRGbnNfID0gbmV3IER5bmFtaWNEZWZhdWx0TWFwKCgpID0+IG5ldyBNYXAoKSk7XG5cbmNsYXNzIFJlbmRlckZ1bmN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvciAoc3RlcCkge1xuICAgICAgICB0aGlzLnN0ZXBfID0gc3RlcDtcbiAgICB9XG5cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIHNjaGVkdWxlZEZuc18uZ2V0KHRoaXMuc3RlcF8pLmRlbGV0ZSh0aGlzKTtcbiAgICB9XG59XG5cbmNsYXNzIFJlbmRlckxvb3Age1xuICAgIHN0YXRpYyBtZWFzdXJlKGZuKSB7XG4gICAgICAgIGFkZEZuVG9TdGVwKGZuLCBTdGVwLk1FQVNVUkUpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtdXRhdGUoZm4pIHtcbiAgICAgICAgYWRkRm5Ub1N0ZXAoZm4sIFN0ZXAuTVVUQVRFKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFkZEZuVG9TdGVwKGZuLCBzdGVwKSB7XG4gICAgY29uc3QgcmVuZGVyRm4gPSBuZXcgUmVuZGVyRnVuY3Rpb24oc3RlcCk7XG4gICAgc2NoZWR1bGVkRm5zXy5nZXQoc3RlcCkuc2V0KHJlbmRlckZuLCBmbik7XG4gICAgcmV0dXJuIHJlbmRlckZuO1xufVxuXG5mdW5jdGlvbiBydW5GbnNGb3JTdGVwKHN0ZXApIHtcbiAgICBzY2hlZHVsZWRGbnNfLmdldChzdGVwKS52YWx1ZXMoKS5mb3JFYWNoKChmbikgPT4gZm4oKSk7XG59XG5cbmZ1bmN0aW9uIHJ1bkxvb3AoKSB7XG4gICAgU1RFUF9PUkRFUi5mb3JFYWNoKChzdGVwKSA9PiBydW5GbnNGb3JTdGVwKHN0ZXApKTtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJ1bkxvb3ApO1xufVxuXG5ydW5Mb29wKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gUmVuZGVyTG9vcDtcbiJdfQ==\n"]}